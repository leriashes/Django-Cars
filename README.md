# Веб-приложение об автомобилях

## Запуск сервера (Docker)

Для запуска проекта необходимо выполнить следующие шаги:

1. Клонировать репозиторий
		
		git clone https://github.com/leriashes/Django-Cars
		cd Django-Cars

2. Скопировать файл .env.example в .env
		
		cp .env.example .env

3. Запустить Docker-Compose (создание и запуск контейнеров)
		
		docker-compose up --build

4. Создать и применить миграции БД
		
		docker-compose exec app python src/manage.py makemigrations
		docker-compose exec app python src/manage.py migrate

Приложение будет доступно по адресу: http://localhost:8000/


### Тестовый набор данных

Для загрузки тестового набора данных выполните следующую команду:
		
		docker-compose exec app python src/manage.py loaddata data.json



## API

API предоставляет следующие функции для работы с данными о машинах:

**1. Получение пары JWT-токенов**

URL: /api/token/

Метод: POST

Описание: Позволяет получить access и refresh токены зарегистрированному пользователю.

Тело запроса:
	
	{
		"username": "user",
		"password": "password"
	}


**2. Обновление пары JWT-токенов**

URL: /api/token/refresh/

Метод: POST

Описание: Позволяет обновить access и refresh токены.

Тело запроса:
	
	{
		"refresh": refreshToken
	}

 
**3. Получение списка автомобилей**

URL: /api/cars/

Метод: GET

Описание: Возвращает список всех машин.


**4. Получение информации о конкретном автомобиле**

URL: /api/cars/\<id>/

Метод: GET

Описание: Возвращает информацию об автомобиле.


**5. Добавление нового автомобиля**

URL: /api/cars/

Метод: POST

Описание: Позволяет добавить информацию о новом автомобиле. Требуется авторизация (JWT).

Тело запроса:
	
	{
		"make": "Производитель",
		"model": "Модель",
		"year": 2024,
		"description": "Описание"
	}


**6. Обновление информации об автомобиле**

URL: /api/cars/\<id>/

Метод: PUT

Описание: Позволяет обновить информацию об автомобиле. Изменить данные может только владелец автомобиля. Требуется авторизация (JWT).


**7. Удаление автомобиля**

URL: /api/cars/\<id>/

Метод: DELETE

Описание: Позволяет удалить автомобиль. Удалить данные может только владелец автомобиля. Требуется авторизация (JWT).


**8. Получение комментариев к автомобилю**

URL: /api/cars/\<id>/comments/

Метод: GET

Описание: Возвращает список всех комментариев к автомобилю.


**9. Добавление нового комментария к автомобилю**

URL: /api/cars/\<id>/comments/

Метод: POST

Описание: Позволяет добавить новый комментарий к автомобилю. Требуется авторизация (JWT).


Тело запроса:
	
	{
		"content": "Комментарий"
	}
